{% extends "market_report.html" %}
{% block content %}
  <div class="header">
    <h1>{{ title }}</h1>
    <div class="subtitle">Executive Summary | 254Carbon Market Intelligence</div>
  </div>

  <div class="summary-grid">
    <div class="summary-card">
      <div class="summary-value">{{ "${:,.2f}" | format(avg_price) }}</div>
      <div class="summary-label">Average Price</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">{{ "${:,.2f}" | format(min_price) }} - {{ "${:,.2f}" | format(max_price) }}</div>
      <div class="summary-label">Price Range</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">{{ "{:,}" | format(total_volume) }}</div>
      <div class="summary-label">Data Points</div>
    </div>
    <div class="summary-card">
      <div class="summary-value">{{ "{:.1f}%" | format(volatility) }}</div>
      <div class="summary-label">Volatility</div>
    </div>
  </div>

  {% if charts.price_trend %}
  <div class="section">
    <h2>ðŸ“ˆ Price Trends</h2>
    <div class="chart-container">
      {{ charts.price_trend|safe }}
    </div>
  </div>
  {% endif %}

  {% if charts.forward_curve %}
  <div class="section">
    <h2>ðŸ”® Forward Curves</h2>
    <div class="chart-container">
      {{ charts.forward_curve|safe }}
    </div>
  </div>
  {% endif %}

  <div class="section">
    <h2>ðŸ’¡ Key Insights</h2>
    <ul>
      {% if avg_price > 50 %}
      <li><span class="highlight">High Price Alert:</span> Elevated average prices suggest supply constraints or demand spikes.</li>
      {% endif %}
      {% if volatility > 15 %}
      <li><span class="highlight">High Volatility:</span> Consider hedging strategies to mitigate risk.</li>
      {% endif %}
    </ul>
  </div>
{% endblock %}

